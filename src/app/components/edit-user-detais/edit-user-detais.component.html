<mat-tab-group mat-align-tabs="center">
  <mat-tab label="Details">
    <ng-container *ngTemplateOutlet="userDetailEdit;">
    </ng-container>
  </mat-tab>
  <mat-tab label="Childrens">
    <ng-container *ngTemplateOutlet="childrenDetials;">
    </ng-container>
  </mat-tab>
</mat-tab-group>

<ng-template #userDetailEdit>

  <mat-grid-list cols="3" [formGroup]="userDetailForm" rowHeight="100px">
    <mat-grid-tile>
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Name</mat-label>
        <input matInput placeholder="Name here" required type="text" formControlName="name">
        <mat-error> Please Enter Name</mat-error>
      </mat-form-field>
    </mat-grid-tile>
    <mat-grid-tile>
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Age</mat-label>
        <input matInput placeholder="Name here" required type="text" formControlName="name">
        <mat-error> Please Enter Name</mat-error>
      </mat-form-field>
    </mat-grid-tile>
    <mat-grid-tile>
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput placeholder="Name here" required type="text" formControlName="name">
        <mat-error> Please Enter Name</mat-error>
      </mat-form-field>
    </mat-grid-tile>
    <mat-grid-tile>
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Mobile No</mat-label>
        <input matInput placeholder="Name here" required type="text" formControlName="name">
        <mat-error> Please Enter Name</mat-error>
      </mat-form-field>
    </mat-grid-tile>
    <mat-grid-tile>
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Role</mat-label>
        <input matInput placeholder="Name here" required type="text" formControlName="name">
        <mat-error> Please Enter Name</mat-error>
      </mat-form-field>
    </mat-grid-tile>
    <mat-grid-tile>
      <button mat-button>Update</button>
    </mat-grid-tile>
  </mat-grid-list>

</ng-template>

<ng-template #childrenDetials>
  <form [formGroup]="childrensFormGroup">
    <table mat-table [dataSource]="datasource" class="mat-elevation-z8" style="width: 100%;" formArrayName="childrens">
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; let i = index; columns: displayedColumns;"></tr>
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> ID. </th>
        <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index"> {{row.value.id}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index">
          <mat-form-field class="example-full-width">
            <mat-label>Name</mat-label>
            <input matInput placeholder="Name here" required type="text" formControlName="name">
            <mat-error> Please Enter Name</mat-error>
          </mat-form-field>
        </td>
      </ng-container>

      <!-- Weight Column -->
      <ng-container matColumnDef="age">
        <th mat-header-cell *matHeaderCellDef> age </th>
        <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index">
          <mat-form-field class="example-full-width">
            <mat-label>age</mat-label>
            <input matInput placeholder="Name here" required type="number" formControlName="age">
            <mat-error> Enter Age</mat-error>
          </mat-form-field>
        </td>
      </ng-container>
      <!-- Weight Column -->
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef> delete </th>
        <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index">
          <button (click)="removeChildren(index)">
            remove
          </button>
        </td>
      </ng-container>
      <!-- Symbol Column -->
      <ng-container matColumnDef="add">
        <th mat-header-cell *matHeaderCellDef> Add </th>
        <td mat-cell *matCellDef="let row; let index = index" [formGroupName]="index">
          <button *ngIf="!row.value.id" (click)="addChildren(index)">Add</button>
        </td>
      </ng-container>
    </table>
  </form>

</ng-template>
